(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{8356:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return t(9320)}])},7166:function(e,s,t){"use strict";var l=t(5893),a=t(4712),n=t(7648);s.Z=function(){let e=async()=>{try{let e=await fetch("/api/google/auth",{method:"POST",headers:{"Content-Type":"application/json"}});if(e.ok){let s=await e.json();window.location.assign(s.url)}else a.A.error("Authentication failed")}catch(e){a.A.error("Error during authentication"),console.error("Error during authentication:",e.message)}};return(0,l.jsx)(n.Z,{type:"button",onClick:e,children:"Connect with your search console"})}},2311:function(e,s,t){"use strict";t.d(s,{I:function(){return o},Z:function(){return c}});var l=t(5893),a=t(7294),n=t(9879),r=t(9498),i=t(4290);let c=e=>{let{label:s,...t}=e,[c,o]=(0,a.useState)(!1),d=(0,r.Z)();return(0,l.jsxs)("label",{htmlFor:t.name,className:"block",children:[s&&(0,l.jsx)("span",{children:s}),(0,l.jsxs)("div",{className:"relative mt-1",children:[(0,l.jsx)(n.gN,{id:t.name,className:"pl-9 pr-3 py-3 w-full outline-none bg-custom-gray rounded-md border border-gray-300",...t,type:c?"text":"password",autoComplete:"on",onFocus:e=>{e.target.style.border="1px solid ".concat(d)},onBlur:e=>{e.target.style="border-custom-gray2"}}),(0,l.jsx)("div",{className:"absolute inset-y-0 flex items-center left-3 text-gray-500",children:(0,l.jsx)(i._V,{})}),(0,l.jsx)("div",{className:"absolute inset-y-[1px] px-1 flex items-center right-[1px] bg-custom-gray rounded-md",children:(0,l.jsx)("span",{className:"p-[6px] text-lg cursor-pointer hover:bg-gray-200 active:bg-gray-300 rounded-full text-black/60",onClick:()=>o(!c),children:(0,l.jsx)("span",{children:c?(0,l.jsx)(i.i$,{}):(0,l.jsx)(i.tC,{})})})})]})]})},o=e=>{let{className:s,...t}=e,[r,c]=(0,a.useState)(!1);return(0,l.jsx)("label",{htmlFor:t.name,className:"block w-full",children:(0,l.jsxs)("div",{className:"relative mt-1",children:[(0,l.jsx)(n.gN,{id:t.name,type:r?"text":"password",className:"pl-0.5 py-0 w-full outline-none text-2xl font-bold bg-transparent text-gray-600",...t}),(0,l.jsx)("div",{className:"absolute inset-y-0 right-0 px-2 bg-custom-gray5",children:(0,l.jsx)("span",{className:"size-9 flex justify-center items-center text-lg cursor-pointer hover:bg-gray-200 active:bg-gray-300 rounded-full text-black/60 border border-gray-300",onClick:()=>c(!r),children:(0,l.jsx)("span",{children:r?(0,l.jsx)(i.i$,{}):(0,l.jsx)(i.tC,{})})})})]})})}},1953:function(e,s,t){"use strict";var l=t(7294);s.Z=function(){let[e,s]=(0,l.useState)(!1),t=(0,l.useRef)(null),a=e=>{var l;null!=t&&null!==(l=t.current)&&void 0!==l&&l.contains(e.target)||s(!1)};return(0,l.useEffect)(()=>(document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}),[]),{toggle:e,setToggle:s,node:t}}},9320:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return M}});var l=t(5893),a=t(7294),n=t(9879),r=t(4712),i=t(3135),c=t(7648),o=t(9549),d=function(e){let{currentEmail:s}=e,[t,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(s),{mutate:x,isPending:h}=(0,o.Z)({path:"/user/change/email",revalidate:"/user/setting"});return(0,l.jsx)("div",{children:(0,l.jsx)(n.J9,{initialValues:{email:s||""},onSubmit:(e,s)=>{x(e,{onSuccess:()=>{r.A.success("Email changed successfully"),s.resetForm(),m(e.email),d(!1)}})},enableReinitialize:!0,children:e=>{let{isSubmitting:s,resetForm:a}=e;return(0,l.jsxs)(n.l0,{children:[(0,l.jsx)("label",{htmlFor:"",children:"Email"}),(0,l.jsxs)("div",{className:"flex w-full items-center gap-5",children:[t?(0,l.jsx)(i.b,{name:"email",type:"email",required:!0,autoFocus:t}):(0,l.jsx)("p",{className:"pl-0.5 pt-1 font-bold text-gray-400 text-2xl w-full",children:u}),t?(0,l.jsxs)("div",{className:"flex items-center gap-5",children:[(0,l.jsx)(c.Z,{type:"button",className:"w-[100px]",variant:"outline",onClick:()=>{d(!1),a()},disabled:h,children:"Cancel"}),(0,l.jsx)(c.Z,{type:"submit",className:"w-[100px]",disabled:h,children:"Save"})]}):(0,l.jsx)(c.Z,{type:"button",className:"w-[200px]",onClick:()=>d(!0),children:"Change Email"})]})]})}})})},u=t(5091),m=t(8386),x=t(283),h=t(6005),p=function(e){let{setFieldValue:s,values:t,setShowOtpField:n}=e,r=t.otp.length,[i,d]=(0,a.useState)(300),{signout:u}=(0,x.Z)(),{mutate:p,isPending:j}=(0,o.Z)({path:"/user/otp/checkandsetpass"});(0,a.useEffect)(()=>{let e=setTimeout(()=>{i>0&&d(i-1)},1e3);return()=>clearTimeout(e)},[i]);let b=e=>{s("otp",e)};return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:" flex flex-col items-center font-manrope",children:[(0,l.jsx)("h1",{className:"text-4xl font-medium",children:"OTP Verification"}),(0,l.jsx)("p",{className:"mt-[10px] text-custom-gray4",children:"We have send an OTP to your email"})]}),(0,l.jsxs)("div",{className:"mt-[48px] w-full",children:[(0,l.jsx)(m.Z,{value:t.otp,onChange:e=>b(e),numInputs:6,inputStyle:"!w-10 h-10 selection:bg-gray-200 border-b-2 border-gray-600 focus:border-black outline-none",containerStyle:"flex justify-between mt-2",shouldAutoFocus:!0,renderInput:e=>(0,l.jsx)("input",{...e})}),(0,l.jsx)("div",{className:"mt-9 flex justify-center",children:(0,l.jsxs)(c.Z,{type:"button",className:"w-[90%] py-3 rounded-md relative",disabled:r<6||j,onClick:()=>{p(t,{onSuccess:()=>{u(),n(!1)}})},children:[j&&(0,l.jsx)("span",{className:"absolute left-20",children:(0,l.jsx)(h.$,{})}),"Submit"]})})]})]})},j=t(2311),b=function(){let[e,s]=(0,a.useState)(!1),[t,r]=(0,a.useState)(!1),{mutate:i,isPending:d}=(0,o.Z)({path:"/user/otp/once"}),m=()=>{i({},{onSuccess:()=>{r(!0)}})};return(0,l.jsx)("div",{children:(0,l.jsx)(n.J9,{initialValues:{password:"",otp:""},children:a=>{let{isSubmitting:i,resetForm:o,setFieldValue:x,values:h}=a;return(0,l.jsxs)(n.l0,{children:[(0,l.jsx)("label",{htmlFor:"",children:"Password"}),(0,l.jsxs)("div",{className:"flex w-full items-center gap-5",children:[e?(0,l.jsx)(j.I,{name:"password",autoFocus:e,autoComplete:"off",required:!0}):(0,l.jsx)("p",{className:"pl-0.5 pt-1 font-bold text-gray-400 text-2xl w-full",children:"********"}),e?(0,l.jsxs)("div",{className:"flex items-center gap-5",children:[(0,l.jsx)(c.Z,{type:"button",className:"w-[100px]",variant:"outline",disabled:d,onClick:()=>{s(!1),o()},children:"Cancel"}),(0,l.jsx)(c.Z,{type:"button",className:"w-[100px]",onClick:m,disabled:d||!h.password,children:"Save"}),(0,l.jsx)(u.aR,{open:t,onOpenChange:r,children:(0,l.jsx)(u._T,{className:"w-[473px] px-[70px] pt-[33px] pb-[52px] bg-white rounded-2xl shadow-lg",children:(0,l.jsx)(p,{setFieldValue:x,values:h,setShowOtpField:r})})})]}):(0,l.jsx)(c.Z,{type:"button",className:"w-[250px]",onClick:()=>s(!0),children:"Change Password"})]})]})}})})},f=function(e){let{currentEmail:s}=e;return(0,l.jsxs)("div",{className:"p-7 space-y-4 rounded-lg bg-custom-gray5",children:[(0,l.jsx)(d,{currentEmail:s}),(0,l.jsx)("div",{className:"w-full border border-gray-300"}),(0,l.jsx)(b,{})]})},g=t(1953),v=t(5651),N=function(e){let{name:s}=e,{values:t,setFieldValue:a}=(0,n.u6)(),{node:r,toggle:i,setToggle:c}=(0,g.Z)(),o=e=>{a(s,e)},d=null==t?void 0:t[s];return(0,l.jsxs)("div",{ref:r,className:"inline relative",children:[(0,l.jsxs)("div",{className:"inline-flex items-center gap-3 p-2 rounded-md border border-gray-500",children:[(0,l.jsx)("button",{type:"button",className:"size-6 rounded-full",style:{backgroundColor:d},onClick:()=>c(!i)}),(0,l.jsx)(v.ZE,{color:d,onChange:e=>o(e),prefixed:!0,className:"bg-transparent outline-none w-[80px]"})]}),i&&(0,l.jsx)("div",{className:"absolute mt-3",children:(0,l.jsx)(v.gW,{color:d,onChange:e=>o(e)})})]})},y=function(e){let{color:s}=e,{mutate:t,isPending:a,variables:i}=(0,o.Z)({path:"/color/edit",revalidate:"/user/setting"});if(s)return(0,l.jsx)(n.J9,{initialValues:{color:s},onSubmit:(e,s)=>{t(e,{onSuccess:()=>{r.A.success("Color changed successfully")}})},enableReinitialize:!0,children:e=>{let{isSubmitting:t,values:r,resetForm:i}=e;return(0,l.jsx)(n.l0,{children:(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"",children:"Brand Color"}),(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsxs)("div",{className:"flex items-center w-full justify-between",children:[(0,l.jsx)(N,{name:"color"}),s!==r.color&&(0,l.jsxs)("div",{className:"flex items-center gap-5",children:[(0,l.jsx)(c.Z,{type:"button",className:"w-[100px]",variant:"outline",onClick:()=>{i()},disabled:a,children:"Cancel"}),(0,l.jsx)(c.Z,{type:"submit",className:"w-[100px]",disabled:a,children:"Save"})]})]})})]})})}})},w=t(5675),S=t.n(w),C=t(4290),Z=t(2882),k=function(e){let{logo:s}=e,[t,n]=(0,a.useState)(!1),{mutate:i,isPending:c}=(0,o.Z)({path:"/user/change/logo",revalidate:"/user/setting"});return(0,l.jsxs)("div",{className:"relative size-[100px] rounded-full overflow-hidden bg-white",children:[s&&(0,l.jsx)(S(),{src:s,alt:"static logo",fill:!0,className:"object-cover"}),(0,l.jsx)("div",{className:"absolute inset-x-0 bottom-0 top-1/2 bg-white/70"}),(0,l.jsx)("div",{className:"absolute flex inset-x-0 bottom-2 justify-center items-center text-black",children:(0,l.jsx)(Z.Z,{isLogo:!0,showImageModal:t,setShowImageModal:n,handleImageSubmit:e=>{i(e,{onSuccess:()=>{n(!1),r.A.success("Logo changed successfully")}})},imageSubmitting:c,children:(0,l.jsx)("button",{type:"button",children:(0,l.jsx)(C.yl,{})})})})]})},E=function(e){let{name:s}=e,[t,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(s),{mutate:x,isPending:h}=(0,o.Z)({path:"/user/change/name",revalidate:"/user/setting"});return(0,l.jsx)(n.J9,{initialValues:{name:s||""},enableReinitialize:!0,onSubmit:(e,s)=>{x(e,{onSuccess:()=>{r.A.success("Name changed successfully"),s.resetForm(),m(e.name),d(!1)}})},children:e=>{let{isSubmitting:s,resetForm:a}=e;return(0,l.jsxs)(n.l0,{children:[(0,l.jsx)("label",{htmlFor:"",children:"Name"}),(0,l.jsxs)("div",{className:"flex w-full items-center gap-5",children:[t?(0,l.jsx)(i.b,{name:"name",type:"text",required:!0,autoFocus:t}):(0,l.jsx)("p",{className:"pl-0.5 pt-1 font-bold text-gray-400 text-2xl w-full",children:u}),t?(0,l.jsxs)("div",{className:"flex items-center gap-5",children:[(0,l.jsx)(c.Z,{type:"button",className:"w-[100px]",variant:"outline",onClick:()=>{d(!1),a()},disabled:h,children:"Cancel"}),(0,l.jsx)(c.Z,{type:"submit",className:"w-[100px]",disabled:h,children:"Save"})]}):(0,l.jsx)(c.Z,{type:"button",className:"w-[200px]",onClick:()=>d(!0),children:"Change Name"})]})]})}})},_=function(e){let{logo:s,name:t,color:a}=e;return(0,l.jsxs)("div",{className:"p-7 space-y-4 rounded-lg bg-custom-gray5",children:[(0,l.jsx)(k,{logo:s}),(0,l.jsx)(E,{name:t}),(0,l.jsx)("div",{className:"w-full border border-gray-300"}),(0,l.jsx)(y,{color:a})]})},F=t(2917),T=t(3163),A=t(9498),V=t(1163),R=t(1664),I=t.n(R),J=t(1635),O=function(e){let{values:s}=e,t={robotsTxt:s.robots_txt||""},{mutate:a,isPending:i}=(0,o.Z)({path:"/user/robots"});return(0,l.jsx)("div",{children:(0,l.jsx)(n.J9,{initialValues:t,onSubmit:(e,s)=>{a({robotsTxt:e.robotsTxt},{onSuccess:()=>{r.A.success("Robots text added"),s.resetForm()}})},children:e=>{let{isSubmitting:s}=e;return(0,l.jsx)(n.l0,{children:(0,l.jsxs)("div",{children:[(0,l.jsx)(J.X,{name:"robotsTxt",className:"w-full",required:!0,rows:6}),(0,l.jsx)("div",{className:"mt-5 flex items-center gap-5",children:(0,l.jsx)(c.Z,{type:"submit",className:"px-9",disabled:i,children:"Save"})})]})})}})})},P=function(e){let{values:s}=e,t={sitemap:s.sitemap||""},{mutate:a,isPending:i}=(0,o.Z)({path:"/user/sitemap"});return(0,l.jsx)("div",{children:(0,l.jsx)(n.J9,{initialValues:t,onSubmit:(e,s)=>{a(e,{onSuccess:()=>{r.A.success("Sitemap added"),s.resetForm()}})},children:e=>{let{isSubmitting:s}=e;return(0,l.jsx)(n.l0,{children:(0,l.jsxs)("div",{children:[(0,l.jsx)(J.X,{name:"sitemap",className:"w-full",required:!0,rows:8}),(0,l.jsx)("div",{className:"mt-5 flex items-center gap-5",children:(0,l.jsx)(c.Z,{type:"submit",className:"px-9",disabled:i,children:"Save"})})]})})}})})},q=t(7166),z=t(7066),L=e=>{let{data:s}=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"font-bold text-xl mb-8",children:"Console Connected With"}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(S(),{src:s.picture,width:"100",height:"100",alt:"user avater"}),(0,l.jsxs)("div",{className:"px-8",children:[(0,l.jsx)("div",{className:"font-semibold",children:s.email}),(0,l.jsx)("div",{children:s.name})]})]})]})},X=function(){let[e,s]=(0,a.useState)("");return(0,a.useEffect)(()=>{(async()=>{let e=await z.Z.get("/api/google/user");200===e.status&&s(e.data)})()},[]),(0,l.jsx)("div",{children:e?(0,l.jsx)(L,{data:e}):(0,l.jsx)(q.Z,{})})},W=function(){let{mutate:e,isPending:s}=(0,o.Z)({path:"/user/canonical"});return(0,l.jsx)("div",{children:(0,l.jsx)(n.J9,{initialValues:{canonical:""},onSubmit:(s,t)=>{e(s,{onSuccess:()=>{r.A.success("Canonical url added"),t.resetForm()}})},children:e=>{let{isSubmitting:t}=e;return(0,l.jsxs)(n.l0,{children:[(0,l.jsx)(i.U,{name:"canonical",type:"text",required:!0}),(0,l.jsx)("div",{className:"mt-5",children:(0,l.jsx)(c.Z,{type:"submit",className:"px-5",disabled:s,children:"Canonical Url"})})]})}})})};let $={robots_txt:"",sitemap:"",discourage:!1};var B=function(){let e=[{name:"Search Console",param:"search_consol",formComponent:X},{name:"RobotsTxt",param:"robots_txt",formComponent:O},{name:"Sitemap",param:"sitemap",formComponent:P},{name:"Canonical",param:"canonical",formComponent:W}],s="search_consol",[t,n]=(0,a.useState)(!1),{query:r}=(0,V.useRouter)(),i=null==r?void 0:r.option;if((0,a.useEffect)(()=>{n(!0)},[]),!t)return;let c=(e.find(e=>e.param===i)||!i&&e.find(e=>e.param===s)).formComponent;return(0,l.jsxs)("div",{className:"mt-10",children:[(0,l.jsx)("div",{className:"inline-flex items-center gap-8 pb-5 border-b border-gray-300",children:e.map(e=>(0,l.jsx)(I(),{href:"/settings?option=".concat(e.param),replace:!0,scroll:!1,className:"text-3xl font-bold ".concat(i!==e.param&&(i||e.param!==s)?"text-gray-400":"text-black"),children:e.name},e.param))}),c&&(0,l.jsx)("div",{className:"mt-5",children:(0,l.jsx)(c,{values:$})})]})},M=function(){let e=(0,A.Z)(),{data:s,isPending:t}=(0,T.Z)({path:"/user/setting"}),a={name:null==s?void 0:s.data.name,color:(null==s?void 0:s.data.color)||e,email:null==s?void 0:s.data.email,logo:null==s?void 0:s.data.logo};return(0,l.jsxs)(F.Z,{title:"Settings",description:"settings",heading:"Settings",isLoading:t,children:[(0,l.jsxs)("div",{className:"mt-5 space-y-7",children:[(0,l.jsx)(_,{logo:a.logo,name:a.name,color:a.color}),(0,l.jsx)(f,{currentEmail:a.email})]}),(0,l.jsx)(B,{})]})}}},function(e){e.O(0,[914,512,194,342,626,891,888,774,179],function(){return e(e.s=8356)}),_N_E=e.O()}]);