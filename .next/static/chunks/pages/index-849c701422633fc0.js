(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(9404)}])},7166:function(e,n,t){"use strict";var s=t(5893),r=t(4712),a=t(7648);n.Z=function(){let e=async()=>{try{let e=await fetch("/api/google/auth",{method:"POST",headers:{"Content-Type":"application/json"}});if(e.ok){let n=await e.json();window.location.assign(n.url)}else r.A.error("Authentication failed")}catch(e){r.A.error("Error during authentication"),console.error("Error during authentication:",e.message)}};return(0,s.jsx)(a.Z,{type:"button",onClick:e,children:"Connect with your search console"})}},2917:function(e,n,t){"use strict";t.d(n,{Z:function(){return h}});var s=t(5893),r=t(9008),a=t.n(r),l=t(1163),i=t(6005),o=t(9498),c=t(7294),d=t(4457),u=function(){let{username:e}=(0,d.M)(),[n,t]=(0,c.useState)(null);return(0,c.useEffect)(()=>{t(e)},[e]),n},h=function(e){let{title:n,description:t,heading:r,isLoading:c,children:d}=e,{pathname:h}=(0,l.useRouter)(),x=(0,o.Z)(),p=u();return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)(a(),{children:[(0,s.jsx)("title",{children:n||"Dashboard"}),(0,s.jsx)("meta",{name:"description",content:t||"dashboard"})]}),r&&(0,s.jsxs)("div",{className:"leading-10 pb-7 border-b border-gray-300 flex justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-[35px] font-extrabold",children:r}),"/"===h&&(0,s.jsxs)("p",{className:"text-sm font-medium",children:["Hi ",(0,s.jsx)("span",{style:{color:x},children:p}),", Welcome back!"]})]}),(0,s.jsx)("p",{className:"text-xl font-bold",style:{color:x},children:p})]}),(0,s.jsx)("div",{children:c?(0,s.jsx)(i.L,{}):d})]})}},6005:function(e,n,t){"use strict";t.d(n,{$:function(){return a},L:function(){return l}});var s=t(5893),r=t(7865);let a=e=>{let{className:n}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{role:"status",className:(0,r.cn)("inline-block size-6 animate-spin rounded-full border-4 border-solid border-gray-100 border-r-black/30 border-b-black/30",n)}),(0,s.jsx)("span",{className:"sr-only",children:"Loading..."})]})},l=e=>{let{className:n}=e;return(0,s.jsxs)("div",{className:"absolute flex justify-center items-center h-[calc(100vh-40px)] inset-0",children:[(0,s.jsx)("span",{role:"status",className:(0,r.cn)("inline-block size-20 animate-spin rounded-full border-[6px] border-solid border-b-slate-500 border-r-black/30 border-b-black/30",n)}),(0,s.jsx)("span",{className:"sr-only",children:"Loading..."})]})}},7648:function(e,n,t){"use strict";var s=t(5893),r=t(9498),a=t(7865);n.Z=function(e){let{children:n,type:t,onClick:l,disabled:i,variant:o,className:c,...d}=e,u=(0,r.Z)();return(0,s.jsx)("button",{type:t,onClick:l,className:(0,a.cn)("px-4 py-2 rounded-full border disabled:pointer-events-none disabled:opacity-50",c),style:{borderColor:u,backgroundColor:"outline"===o?"transparent":u,color:"outline"===o?u:"white"},disabled:i,...d,children:n})}},7865:function(e,n,t){"use strict";t.d(n,{cn:function(){return a}});var s=t(512),r=t(8388);function a(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return(0,r.m6)((0,s.W)(n))}},9404:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return m}});var s=t(5893),r=t(3163),a=t(7294),l=t(7066),i=t(777),o=function(){let e="/api/google/data",n=async()=>l.Z.get(e,{headers:{"Content-Type":"application/json"}}).then(e=>{let{data:n}=e;return n});return(0,i.a)({queryKey:[e],queryFn:n,retry:!1})},c=t(3148),d=t(6495);c.kL.register(c.jn,c.uw,c.f$,c.od,c.Dx,c.u,c.De);var u=function(e){let{consoleData:n}=e,t={labels:n.labels,datasets:[{label:"Clicks",data:n.clicks,borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.5)"}]};return(0,s.jsx)("div",{className:"App",children:(0,s.jsx)("div",{className:"chartContainer",children:(0,s.jsx)(d.x1,{options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0}}},data:t,style:{width:"100%",height:"500px"}})})})},h=t(7166),x=function(){let[e,n]=(0,a.useState)(""),{data:t,isPending:r,isError:l}=o();return(0,a.useEffect)(()=>{if(t&&!t.error){let{rows:e}=t,s={labels:[],clicks:[],impressions:[]};for(let n=0;n<e.length;n++){let{keys:t,clicks:r,impressions:a}=e[n];s.labels.push(t[0]),s.clicks.push(r),s.impressions.push(a)}n(s)}},[t]),(0,s.jsx)("div",{className:"mt-12 flex justify-center",children:r?"Loading...":e?(0,s.jsx)(u,{consoleData:e}):(0,s.jsx)(h.Z,{})})},p=t(9498),b=function(e){let{dashboardData:n}=e,t=(0,p.Z)(),r=[{name:"Today",count:null==n?void 0:n.data.todayFound},{name:"This Month",count:null==n?void 0:n.data.thisMonthFound},{name:"Total",count:null==n?void 0:n.data.totalFound}];return(0,s.jsx)(s.Fragment,{children:(null==n?void 0:n.data)&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-[35px] font-bold",children:"Messages"}),(0,s.jsx)("div",{className:"mt-4 flex justify-between items-center gap-5",children:r.map(e=>(0,s.jsxs)("div",{className:"h-[90px] 2xl:h-[100px] w-full flex justify-center items-center gap-3 rounded-2xl text-white",style:{backgroundColor:t},children:[(0,s.jsx)("span",{className:"text-[25px] font-bold",children:e.count}),(0,s.jsx)("span",{className:"text-xl",children:e.name})]},e.name))})]})})},f=t(2917);function m(){let{data:e,isPending:n}=(0,r.Z)({path:"/user/dashboard"});return(0,s.jsxs)(f.Z,{title:"Dashboard",description:"dashboard",heading:"Dashboard",isLoading:n,children:[(0,s.jsx)(x,{}),(0,s.jsx)("div",{className:"mt-16",children:(0,s.jsx)(b,{dashboardData:e})})]})}}},function(e){e.O(0,[196,914,853,888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);