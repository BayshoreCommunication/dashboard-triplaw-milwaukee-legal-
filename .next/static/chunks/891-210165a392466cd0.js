"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[891],{3135:function(e,t,a){a.d(t,{U:function(){return i},b:function(){return d}});var r=a(5893),l=a(9879),s=a(9498),n=a(7865);let i=e=>{let{label:t,className:a,...i}=e,d=(0,s.Z)();return(0,r.jsxs)("div",{className:"w-full",children:[t&&(0,r.jsx)("label",{htmlFor:i.name,className:"font-medium",children:t}),(0,r.jsx)("div",{className:"relative mt-1",children:(0,r.jsx)(l.gN,{id:i.name,className:(0,n.cn)("p-3 w-full outline-none bg-white rounded-md border border-custom-gray2",a),...i,onFocus:e=>{e.target.style.border="1px solid ".concat(d)},onBlur:e=>{e.target.style="border-custom-gray2"}})})]})},d=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)("div",{className:"relative mt-1",children:(0,r.jsx)(l.gN,{id:a.name,className:(0,n.cn)("pl-0.5 py-0 w-full outline-none text-2xl font-bold bg-transparent text-gray-600",t),...a})})})}},1635:function(e,t,a){a.d(t,{X:function(){return i}});var r=a(5893),l=a(9879),s=a(9498),n=a(7865);let i=e=>{let{label:t,rows:a=4,className:i,...d}=e,o=(0,s.Z)();return(0,r.jsxs)("div",{className:"w-full",children:[t&&(0,r.jsx)("label",{htmlFor:d.name,className:"font-medium",children:t}),(0,r.jsx)("div",{className:"relative mt-1",children:(0,r.jsx)(l.gN,{as:"textarea",rows:a,id:d.name,className:(0,n.cn)("p-3 w-full outline-none bg-white rounded-md border border-custom-gray2",i),...d,onFocus:e=>{e.target.style.border="1px solid ".concat(o)},onBlur:e=>{e.target.style="border-custom-gray2"}})})]})}},2917:function(e,t,a){a.d(t,{Z:function(){return m}});var r=a(5893),l=a(9008),s=a.n(l),n=a(1163),i=a(6005),d=a(9498),o=a(7294),c=a(4457),u=function(){let{username:e}=(0,c.M)(),[t,a]=(0,o.useState)(null);return(0,o.useEffect)(()=>{a(e)},[e]),t},m=function(e){let{title:t,description:a,heading:l,isLoading:o,children:c}=e,{pathname:m}=(0,n.useRouter)(),x=(0,d.Z)(),f=u();return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)(s(),{children:[(0,r.jsx)("title",{children:t||"Dashboard"}),(0,r.jsx)("meta",{name:"description",content:a||"dashboard"})]}),l&&(0,r.jsxs)("div",{className:"leading-10 pb-7 border-b border-gray-300 flex justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-[35px] font-extrabold",children:l}),"/"===m&&(0,r.jsxs)("p",{className:"text-sm font-medium",children:["Hi ",(0,r.jsx)("span",{style:{color:x},children:f}),", Welcome back!"]})]}),(0,r.jsx)("p",{className:"text-xl font-bold",style:{color:x},children:f})]}),(0,r.jsx)("div",{children:o?(0,r.jsx)(i.L,{}):c})]})}},6005:function(e,t,a){a.d(t,{$:function(){return s},L:function(){return n}});var r=a(5893),l=a(7865);let s=e=>{let{className:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{role:"status",className:(0,l.cn)("inline-block size-6 animate-spin rounded-full border-4 border-solid border-gray-100 border-r-black/30 border-b-black/30",t)}),(0,r.jsx)("span",{className:"sr-only",children:"Loading..."})]})},n=e=>{let{className:t}=e;return(0,r.jsxs)("div",{className:"absolute flex justify-center items-center h-[calc(100vh-40px)] inset-0",children:[(0,r.jsx)("span",{role:"status",className:(0,l.cn)("inline-block size-20 animate-spin rounded-full border-[6px] border-solid border-b-slate-500 border-r-black/30 border-b-black/30",t)}),(0,r.jsx)("span",{className:"sr-only",children:"Loading..."})]})}},2882:function(e,t,a){a.d(t,{Z:function(){return S}});var r=a(5893),l=a(5091),s=a(7294),n=a(5675),i=a.n(n),d=a(4712),o=a(9498),c=a(4290),u=a(6005),m=a(9879),x=a(7648),f=a(3135),p=a(1635),b=function(e){let{imageId:t,imageUrl:a,handleImageSubmit:l,imageSubmitting:s}=e;return(0,r.jsx)("div",{children:(0,r.jsx)(m.J9,{initialValues:{imageTitle:"",altText:"",image:{public_id:t,url:a}},onSubmit:(e,t)=>{l(e,t)},children:e=>{let{isSubmitting:t}=e;return(0,r.jsxs)(m.l0,{className:"space-y-5",children:[(0,r.jsx)(f.U,{label:"Image Title:",placeholder:"Your text here",name:"imageTitle",type:"text",required:!0}),(0,r.jsx)(p.X,{label:"Alt Text",placeholder:"Your text here",name:"altText",className:"resize-none",required:!0}),(0,r.jsxs)("div",{className:"mt-5 flex items-center gap-3",children:[(0,r.jsx)(x.Z,{type:"submit",className:"px-8",disabled:s,children:"Save"}),s&&(0,r.jsx)(u.$,{className:"border-gray-400 border-r-gray-400/30 border-b-gray-400/30"})]})]})}})})},h=function(e){let{logo:t,handleImageSubmit:a,imageSubmitting:l}=e;return(0,r.jsx)("div",{className:"bg-gray-300 rounded-full",children:(0,r.jsxs)(x.Z,{type:"button",className:"w-[150px] font-medium relative",onClick:()=>{a({logo:t})},disabled:l,children:[l&&(0,r.jsx)("div",{className:"absolute inset left-3.5",children:(0,r.jsx)("span",{children:(0,r.jsx)(u.$,{className:"border-gray-200 border-r-gray-200/30 border-b-gray-200/30"})})}),"Submit"]})})},g=a(5312),j=function(e){let{imageUploading:t,setImageUploading:a,setImageUploaded:l,setShowImageModal:n,isLogo:m,handleImageSubmit:x,imageSubmitting:f}=e,p=(0,o.Z)(),[j,y]=(0,s.useState)(null),[N,v]=(0,s.useState)(null),[w,S]=(0,s.useState)(!1),[k,C]=(0,s.useState)(null),[I,z]=(0,s.useState)(null),_=(0,s.useCallback)(async()=>{if(!j)return;if(j.size>512e3){d.A.error("Image size exceeds the limit");return}v(URL.createObjectURL(j));let e=new FormData;e.append("file",j),e.append("upload_preset",g.W3),e.append("cloud_name",g.SJ),e.append("folder",g.YM),a(!0);let t="https://api.cloudinary.com/v1_1/".concat(g.SJ,"/image/upload");try{let a=await fetch(t,{method:"POST",body:e}),r=await a.json();a.ok?(C(r.secure_url),z(r.public_id),y(null),l(!0)):(y(null),n(!1),d.A.error("Image upload failed, try again"))}catch(e){y(null),n(!1),d.A.error("Image upload failed, try again")}a(!1)},[j,n,a,l]);(0,s.useEffect)(()=>{j&&_()},[j,_]);let T=async e=>{e.target.files&&0!==e.target.files.length&&(e.preventDefault(),y(e.target.files[0]))};return(0,r.jsx)(r.Fragment,{children:N?(0,r.jsx)("div",{className:"w-full h-full border-2 border-transparent bg-black rounded-lg",children:t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i(),{src:N,alt:"image uploaded preview",fill:!0,className:"object-cover blur-md opacity-50 rounded-lg"}),(0,r.jsx)("div",{className:"absolute inset-0 flex justify-center items-center",children:(0,r.jsx)(u.$,{className:"size-20 border-[6px]"})})]}):k&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i(),{src:k,alt:"image uploaded result",fill:!0,className:"object-cover rounded-lg"}),m?(0,r.jsx)("div",{className:"mt-8 absolute right-3 bottom-3",children:(0,r.jsx)(h,{logo:k,handleImageSubmit:x,imageSubmitting:f})}):(0,r.jsx)("div",{className:"absolute inset-0 flex justify-center items-center h-full",children:(0,r.jsx)("div",{className:" w-[330px] px-7 py-5 bg-white rounded-lg",children:(0,r.jsx)(b,{imageId:I,imageUrl:k,setShowImageModal:n,handleImageSubmit:x,imageSubmitting:f})})})]})}):(0,r.jsxs)("div",{className:"h-full flex flex-col justify-center items-center rounded-xl border-2 border-dashed\n            text-gray-300 ".concat(w?"border-blue-500":"border-gray-300"),onDragEnter:e=>{e.preventDefault(),S(!0)},onDragOver:e=>{e.preventDefault(),S(!0)},onDragLeave:()=>{S(!1)},onDrop:e=>{if(e.preventDefault(),S(!1),e.dataTransfer.files.length>1){d.A.error("Single image only");return}let t=e.dataTransfer.files[0];if(t.size>512e3){d.A.error("Image size exceeds the limit");return}y(t)},children:[(0,r.jsx)("span",{children:(0,r.jsx)(c.Pn,{})}),(0,r.jsx)("p",{className:"mt-5 text-xl font-medium",children:"Drag and drop asset here"}),(0,r.jsx)("p",{className:"mt-1 text-sm ",children:"Image size ( Max ".concat(500,"kb)")}),(0,r.jsx)("p",{className:"mt-3 font-medium text-black text-lg",children:"Or"}),(0,r.jsx)("input",{type:"file",accept:".jpg, .jpeg, .png, .svg",id:"image",onChange:T,className:"hidden"}),(0,r.jsx)("label",{htmlFor:"image",className:"mt-3 px-4 py-2 rounded-full w-[250px] flex justify-center border text-white disabled:pointer-events-none disabled:opacity-50 cursor-pointer",style:{borderColor:p,backgroundColor:p},children:"Browse"})]})})},y=a(4522),N=a(3163),v=function(e){let{setShowImageModal:t,handleImageSubmit:a}=e,[l,n]=(0,s.useState)(null),{data:d,isPending:o}=(0,N.Z)({path:"/media"}),m=e=>{(null==l?void 0:l._id)===e._id?n(null):n(e)};return(0,r.jsx)("div",{children:o?(0,r.jsx)("div",{className:"absolute inset-0 flex justify-center items-center",children:(0,r.jsx)(u.$,{className:"size-20 border-[6px]  border-cyan-500 border-r-cyan-500/30 border-b-cyan-500/30"})}):(0,r.jsx)(r.Fragment,{children:(null==d?void 0:d.media.length)>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y.x,{className:"h-[350px] 2xl:h-[430px] relative",children:(0,r.jsx)("div",{className:"p-3 grid grid-cols-4 2xl:grid-cols-5 justify-items-center gap-7 overflow-x-hidden overflow-y-auto",children:null==d?void 0:d.media.map(e=>(0,r.jsxs)("div",{className:"relative size-[150px] rounded-md overflow-hidden cursor-pointer",onClick:()=>m(e),children:[(0,r.jsx)(i(),{src:e.image.url,alt:e.altText,fill:!0,className:"object-cover border border-gray-200 rounded-md"}),(null==l?void 0:l._id)===e._id&&(0,r.jsx)("div",{className:"absolute inset-0 border-[6px] border-cyan-400 rounded-md",children:(0,r.jsx)("div",{className:"absolute top-0 right-0 size-6 flex justify-center items-center bg-cyan-400 border border-white text-white",children:(0,r.jsx)(c.CD,{})})})]},e._id))})}),(0,r.jsx)(x.Z,{type:"button",className:"ml-3 mt-5 w-[150px]",disabled:!l,onClick:()=>{a({image:l.image,altText:l.altText,imageTitle:l.imageTitle}),t(!1)},children:"Save"})]}):(0,r.jsx)("div",{className:"absolute inset-0 flex justify-center items-center",children:(0,r.jsx)("p",{className:"text-2xl font-semibold",children:"No image found"})})})})},w=function(e){let{setShowImageModal:t,withLibrary:a,isLogo:l,handleImageSubmit:n,imageSubmitting:i}=e,[d,o]=(0,s.useState)(!1),[u,m]=(0,s.useState)(!1),x=["Upload Your Image","Choose From Library"],[f,p]=(0,s.useState)(x[0]);return(0,r.jsxs)("div",{className:"p-7 relative",children:[(0,r.jsx)("button",{type:"button",className:"absolute right-1.5 top-1.5 rounded-full size-7 flex justify-center items-center border-2 border-gray-500 text-gray-500 disabled:pointer-events-none disabled:opacity-50",onClick:()=>t(!1),disabled:u,children:(0,r.jsx)(c.kL,{})}),(0,r.jsx)("div",{className:"text-2xl font-bold text-center",children:(0,r.jsxs)("div",{children:[!u&&!d&&(0,r.jsx)("div",{className:"flex justify-center items-center divide-x divide-gray-300",children:a?x.map(e=>(0,r.jsx)("div",{className:"px-4",children:(0,r.jsx)("button",{type:"button",className:"outline-none ".concat(e===f?"text-black":"text-gray-300"),onClick:()=>p(e),children:e})},e)):(0,r.jsx)("p",{children:f})}),u&&(0,r.jsx)("p",{children:"Uploading..."}),d&&!l&&(0,r.jsx)("p",{children:"Image Uploaded"}),l&&d&&(0,r.jsx)("p",{children:"Submit logo"})]})}),(0,r.jsxs)("div",{className:"mt-4 h-[412px] 2xl:h-[500px] relative",children:["Upload Your Image"===f&&(0,r.jsx)(j,{imageUploading:u,setImageUploading:m,setImageUploaded:o,setShowImageModal:t,isLogo:l,handleImageSubmit:n,imageSubmitting:i}),"Choose From Library"===f&&a&&(0,r.jsx)(v,{setShowImageModal:t,handleImageSubmit:n})]})]})},S=function(e){let{children:t,withLibrary:a,showImageModal:s,setShowImageModal:n,isLogo:i,handleImageSubmit:d,imageSubmitting:o}=e;return(0,r.jsxs)(l.aR,{open:s,onOpenChange:n,children:[(0,r.jsx)(l.vW,{asChild:!0,className:"outline-gray-300",children:t}),(0,r.jsx)(l._T,{className:"min-w-[765px] 2xl:min-w-[950px] rounded-xl bg-white",children:(0,r.jsx)(w,{setShowImageModal:n,withLibrary:a,isLogo:i,handleImageSubmit:d,imageSubmitting:o})})]})}},7648:function(e,t,a){var r=a(5893),l=a(9498),s=a(7865);t.Z=function(e){let{children:t,type:a,onClick:n,disabled:i,variant:d,className:o,...c}=e,u=(0,l.Z)();return(0,r.jsx)("button",{type:a,onClick:n,className:(0,s.cn)("px-4 py-2 rounded-full border disabled:pointer-events-none disabled:opacity-50",o),style:{borderColor:u,backgroundColor:"outline"===d?"transparent":u,color:"outline"===d?u:"white"},disabled:i,...c,children:t})}},5091:function(e,t,a){a.d(t,{_T:function(){return u},aR:function(){return i},vW:function(){return d}});var r=a(5893),l=a(7294),s=a(9532),n=a(7865);let i=s.fC,d=s.xz,o=s.h_,c=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)(s.aV,{className:(0,n.cn)("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l,ref:t})});c.displayName=s.aV.displayName;let u=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsxs)(o,{children:[(0,r.jsx)(c,{}),(0,r.jsx)(s.VY,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state:closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l})]})});u.displayName=s.VY.displayName,l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)(s.Dx,{ref:t,className:(0,n.cn)("text-lg font-semibold",a),...l})}).displayName=s.Dx.displayName,l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)(s.dk,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...l})}).displayName=s.dk.displayName,l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)(s.aU,{ref:t,className:(0,n.cn)(a),...l})}).displayName=s.aU.displayName,l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)(s.$j,{ref:t,className:(0,n.cn)("mt-2 sm:mt-0",a),...l})}).displayName=s.$j.displayName},4522:function(e,t,a){a.d(t,{x:function(){return i}});var r=a(5893),l=a(7294),s=a(5342),n=a(7865);let i=l.forwardRef((e,t)=>{let{className:a,children:l,...i}=e;return(0,r.jsxs)(s.fC,{ref:t,className:(0,n.cn)("relative overflow-hidden",a),...i,children:[(0,r.jsx)(s.l_,{className:"h-full w-full rounded-[inherit]",children:l}),(0,r.jsx)(d,{}),(0,r.jsx)(s.Ns,{})]})});i.displayName=s.fC.displayName;let d=l.forwardRef((e,t)=>{let{className:a,orientation:l="vertical",...i}=e;return(0,r.jsx)(s.gb,{ref:t,orientation:l,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===l&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===l&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...i,children:(0,r.jsx)(s.q4,{className:"relative flex-1 rounded-full bg-gray-300"})})});d.displayName=s.gb.displayName},9549:function(e,t,a){var r=a(7066),l=a(4712),s=a(3299),n=a(202),i=a(8029),d=a(5312);t.Z=function(e){var t;let{path:a,revalidate:o}=e,{data:c}=(0,s.useSession)(),u=null==c?void 0:null===(t=c.user)||void 0===t?void 0:t.token,m="".concat(d.T5).concat(a),x=(0,n.NL)(),f=async e=>r.Z.post(m,e,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u)}}).then(e=>{let{data:t}=e;return t});return(0,i.D)({mutationFn:f,onSuccess:e=>{x.invalidateQueries([o])},onError:e=>{var t,a;l.A.error((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.error)||"Something went wrong")}})}},7865:function(e,t,a){a.d(t,{cn:function(){return s}});var r=a(512),l=a(8388);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.m6)((0,r.W)(t))}}}]);